<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Vulnerability Scanner</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="static/css/style.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js" integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D" crossorigin="anonymous"></script>
</head>
<body>

   <div class="alert alert-info" role="alert">
 The website is currently not functioning. We apologize for the inconvenience and are working to resolve the issue as soon as possible.
    </div>
    <div class="alert alert-danger" role="alert">
        <strong>Warning:</strong> This is a test version of the WebVulnScan application. Please do not use it for any real-world scanning or production purposes.   
</div>

    <div class="container">
        <header>
            <h1><i class="fas fa-shield-alt"></i> WebVulnScan</h1>
            <p>Web Application Vulnerability Scanner</p>
        </header>
        
        <main>
            <div class="card">
                <form id="scan-form" method="POST" action="/scan">
                    {{ form.csrf_token }}
                    <div class="form-group">
                        <label for="url">Website URL to Scan:</label>
                        {{ form.url(class="form-control", placeholder="Enter website URL (e.g., https://example.com)") }}
                        <small>Enter the full URL including http:// or https://</small>
                    </div>
                    
                    <div class="scan-options">
                        <h3>Scan Options</h3>
                        <div class="options-grid">
                            <div class="option-item">
                                <input type="checkbox" id="sql-injection" name="sql_injection" checked>
                                <label for="sql-injection">SQL Injection</label>
                            </div>
                            <div class="option-item">
                                <input type="checkbox" id="xss" name="xss" checked>
                                <label for="xss">Cross-Site Scripting (XSS)</label>
                            </div>
                            <div class="option-item">
                                <input type="checkbox" id="open-redirect" name="open_redirect" checked>
                                <label for="open-redirect">Open Redirect</label>
                            </div>
                            <div class="option-item">
                                <input type="checkbox" id="security-headers" name="security_headers" checked>
                                <label for="security-headers">Security Headers</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="advanced-options">
                        <details>
                            <summary>Advanced Options</summary>
                            <div class="options-content">
                                <div class="form-group">
                                    <label for="max-urls">Maximum URLs to Scan:</label>
                                    <input type="number" id="max-urls" name="max_urls" value="30" min="1" max="100">
                                </div>
                                <div class="form-group">
                                    <label for="timeout">Request Timeout (seconds):</label>
                                    <input type="number" id="timeout" name="timeout" value="10" min="1" max="60">
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="use-selenium" name="use_selenium">
                                    <label for="use-selenium">Use Selenium for JavaScript-rendered pages</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="generate-pdf" name="generate_pdf" checked>
                                    <label for="generate-pdf">Generate PDF Report</label>
                                </div>
                            </div>
                        </details>
                    </div>
                    
                    <div class="button-group">
                        <button type="submit" class="btn primary">
                            <i class="fas fa-search"></i> Scan Website
                        </button>
                        <button type="button" id="clear-btn" class="btn">
                            <i class="fas fa-trash"></i> Clear
                        </button>
                    </div>
                </form>
            </div>
            
            <div id="scan-status" class="hidden">
                <div class="loading-spinner"></div>
                <h3>Scanning in progress...</h3>
                <p>This may take a few minutes depending on the website size.</p>
            </div>
            
            <div id="alert" class="alert hidden"></div>
        </main>
        
        <footer>
            <p>&copy; 2025 WebVulnScan. All rights reserved.</p>
        </footer>
    </div>
    
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="static/js/script.js"></script>
    <script>
        document.getElementById('clear-btn').addEventListener('click', function() {
            document.getElementById('scan-form').reset();
            document.getElementById('alert').classList.add('hidden');
            document.getElementById('scan-status').classList.add('hidden');
        });
        document.getElementById('scan-form').addEventListener('submit', function() {
            document.getElementById('scan-status').classList.remove('hidden');
            document.getElementById('alert').classList.add('hidden');
        });
        document.getElementById('scan-form').addEventListener('reset', function() {
            document.getElementById('scan-status').classList.add('hidden');
            document.getElementById('alert').classList.add('hidden');
        });
        document.getElementById('scan-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission
            const formData = new FormData(this);
            const url = this.action;
            const method = this.method;

            fetch(url, {
                method: method,
                body: formData,
                headers: {
                    'X-CSRFToken': '{{ csrf_token() }}'
                }
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('scan-status').classList.add('hidden');
                if (data.success) {
                    document.getElementById('alert').classList.remove('hidden');
                    document.getElementById('alert').innerHTML = `<div class="alert alert-success">${data.message}</div>`;
                } else {
                    document.getElementById('alert').classList.remove('hidden');
                    document.getElementById('alert').innerHTML = `<div class="alert alert-danger">${data.error}</div>`;
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('scan-status').classList.add('hidden');
                document.getElementById('alert').classList.remove('hidden');
                document.getElementById('alert').innerHTML = `<div class="alert alert-danger">An error occurred. Please try again.</div>`;
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scanForm = document.getElementById('scan-form');
            const scanStatus = document.getElementById('scan-status');
            const alertBox = document.getElementById('alert');

            scanForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission
                scanStatus.classList.remove('hidden');
                alertBox.classList.add('hidden');
            });

            document.getElementById('clear-btn').addEventListener('click', function() {
                scanForm.reset();
                alertBox.classList.add('hidden');
                scanStatus.classList.add('hidden');
            });
        });
        </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scanForm = document.getElementById('scan-form');
            const scanStatus = document.getElementById('scan-status');
            const alertBox = document.getElementById('alert');

            scanForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission
                scanStatus.classList.remove('hidden');
                alertBox.classList.add('hidden');
            });

            document.getElementById('clear-btn').addEventListener('click', function() {
                scanForm.reset();
                alertBox.classList.add('hidden');
                scanStatus.classList.add('hidden');
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scanForm = document.getElementById('scan-form');
            const scanStatus = document.getElementById('scan-status');
            const alertBox = document.getElementById('alert');

            scanForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission
                scanStatus.classList.remove('hidden');
                alertBox.classList.add('hidden');
            });

            document.getElementById('clear-btn').addEventListener('click', function() {
                scanForm.reset();
                alertBox.classList.add('hidden');
                scanStatus.classList.add('hidden');
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scanForm = document.getElementById('scan-form');
            const scanStatus = document.getElementById('scan-status');
            const alertBox = document.getElementById('alert');

            scanForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission
                scanStatus.classList.remove('hidden');
                alertBox.classList.add('hidden');
            });

            document.getElementById('clear-btn').addEventListener('click', function() {
                scanForm.reset();
                alertBox.classList.add('hidden');
                scanStatus.classList.add('hidden');
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scanForm = document.getElementById('scan-form');
            const scanStatus = document.getElementById('scan-status');
            const alertBox = document.getElementById('alert');

            scanForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission
                scanStatus.classList.remove('hidden');
                alertBox.classList.add('hidden');
            });

            document.getElementById('clear-btn').addEventListener('click', function() {
                scanForm.reset();
                alertBox.classList.add('hidden');
                scanStatus.classList.add('hidden');
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scanForm = document.getElementById('scan-form');
            const scanStatus = document.getElementById('scan-status');
            const alertBox = document.getElementById('alert');

            scanForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission
                scanStatus.classList.remove('hidden');
                alertBox.classList.add('hidden');
            });

            document.getElementById('clear-btn').addEventListener('click', function() {
                scanForm.reset();
                alertBox.classList.add('hidden');
                scanStatus.classList.add('hidden');
            });
        });
    </script>
</body>
</html>
